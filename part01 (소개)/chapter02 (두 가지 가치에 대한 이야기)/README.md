# 2장 두 가지 가치에 대한 이야기

모든 소프트웨어 시스템은 이해관계자에게 서로 다른 두 가지 가치를 제공하는데,  
행위(behavior)와 구조(structure)가 바로 그것이다.

불행하게도 개발자는 한 가지 가치에만 집중하고 나머지 가치는 배재하곤 한다.  
더 안타까운 일은 대체로 개발자가 둘 중 덜 중요한 가치에 집중하려 결국에는 소프트웨어 시스템이 쓸모없게 된다는 사실이다.

## 행위

프로그래머를 고용하는 이유는 이해관계자를 위해 기계가 수익을 창출하거나 비용을 절약하도록 만들기 위해서다.

많은 프로그래머가 기계가 이러한 요구사항을 만족하도록 만드는 것이 자신이 해야 할 일의 전부라고 생각한다.  
슬프지만 그 생각은 틀렸다.

## 아키텍처

소프트웨어(software)라는 단어는 부드러운(soft)과 제품(ware)라는 단어의 합성어이다.

소프트웨어가 가진 본연의 목적을 추구하려면 소프트웨어는 반드시 '부드러워야'한다. 변경하기 쉬워야 한다.

변경사항을 적용하는 데 드는 어려움은 변경되는 범위에 비례해야 하며, 변경사항의 형태와는 관련이 없어야 한다.

> 예시 1 – 잘못된 설계  
	•	요구사항: “사용자 이름을 20자에서 50자로 늘려야 한다.”  
	•	그런데 코드가 여기저기 VARCHAR(20)으로 하드코딩돼 있음.  
	•	DB 스키마, 서비스 로직, 유효성 검사, API 응답, UI까지 전부 뒤져서 바꿔야 함.  
	•	이건 변경 범위가 넓어져서 어려운 건 맞는데, 사실은 변경의 “형태(길이만 늘리는 단순 변경)”는 쉬운 거잖아.  
	•	그런데도 구조가 안 좋아서 쓸데없이 어렵게 돼버린 거지.



> 예시 2 – 좋은 설계  
	•	요구사항: “사용자 인증 방식을 패스워드 → OAuth로 바꿔야 한다.”  
	•	인증 모듈이 인터페이스 뒤에 잘 캡슐화돼 있어서, 교체는 그 모듈만 갈아끼우면 됨.  
	•	사실 변경의 “형태(인증 알고리즘 전체 교체)”는 복잡한데, 범위는 좁으니까 딱 그 부분만 수정하면 돼.  
	•	그러면 예상되는 코스트도 딱 거기까지만임.  
    
소프트웨어 개발 비용의 증가를 결정짓는 주된 요인은 바로 이 변경사항의 범위와 형태의 차이에 있다.

이해관계자는 범위가 비슷한 일련의 변경사항을 제시할 뿐이지만,  
개발자 입장에서는 복잡도가 지속적으로 증가하는 퍼즐 판 위에서 이해관계자가 계속해서 퍼즐 조각을 맞추라는 지시를 하는 것처럼 느껴진다.

따라서 아키텍처는 형태에 독립적이어야 하고, 그럴수록 더 실용적이다.

## 더 높은 가치

기능과 아키텍처 중 어느 것의 가치가 더 높은가?

업무 관리자, 개발자에게 묻는다면 대다수는 동작하는 것이 더 중요하다고 대답할 것이다.

하지만 이는 잘못된 태도다!

* 완벽하게 동작하지만 수정이 아예 불가능한 프로그램은 요구사항이 변경될 때 동작하지 않게 되고, 프로그램이 돌아가도록 만들 수 없게 된다. -> 쓸모가 없다.

* 동작은 하지 않지만 변경이 쉬운 프로그램이 있다면 나는 이를 돌아가도록 만들 수 있고, 변경사항이 발생하더라도 여전히 동작하도록 유지보수할 수 있다. -> 앞으로도 유용하게 남는다.

### 아이젠하워 매트릭스

드와이트 D. 아이젠하워 미국 대통령이 고안

> 긴급한 문제가 아주 중요한 문제일 경우는 드물고, 중요한 문제가 몹시 긴급한 경우는 거의 없다.

소프트웨어의 첫 번째 가치인 행위는 긴급하지만, 매번 높은 중요도를 갖는 것은 아니다.  
소프트웨어의 두 번째 가치인 아키텍처는 중요하지만 즉각적인 긴급성을 필요로 하는 경우는 절대 없다.

우선순위
1. 긴급하고 중요한
2. 긴급하지는 않지만 중요한
3. 긴급하지만 중요하지 않은
4. 긴급하지도 중요하지도 않은

아키텍처는 가장 높은 두 순위를 차지하는 반면, 행위는 첫 번째와 세 번째에 위치  
업무 관리자와 개발자가 흔하게 저지르는 실수는 세 번째의 위치한 항목을 첫 번째로 격상시켜 버리는 일이다.

업무 관리자는 보통 아키텍처의 중요성을 평가할 만한 능력을 겸비하지 못하기 때문에  
기능의 긴급성이 아닌 아키텍처의 중요성을 설득하는 일은 소프트웨어 개발팀이 마땅히 책임져야 한다.

## 아키텍처를 위해 투쟁하라

소프트웨어 개발자인 당신도 이해관계자임을 명심하라.

당신은 소프트웨어를 안전하게 보호해야 할 책임이 있다.

아키텍처가 후순위가 되면 시스템을 개발하는 비용이 더 많이 들고, 일부 또는 전체 시스템에 변경을 가하는 일이 현실적으로 불가능해진다.

이러한 상황이 발생하도록 용납했다면, 이는 결국 소프트웨어 개발팀이 스스로 옳다고 믿는 가치를 위해 충분히 투쟁하지 않았다는 뜻이다.
