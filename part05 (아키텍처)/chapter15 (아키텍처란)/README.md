# 15장 아키텍처란?

아키텍처라는 단어는 권력과 신비로움을 연상케 한다...  
중대한 결정과 심도 있는 기술적 기량을 떠올리게 한다... (진짜임... 엄청 멋있어보임...)

그러면 소프트웨어 아키텍처란 무엇인가? 소프트웨어 아키텍트는 무슨 일을 하는가?

소프트웨어 아키텍트는 프로그래머이다. 아키텍트는 코드에서 탈피하여 고수준의 문제에 집중해야 한다는 거짓말에 절대로 속아 넘어가서는 안 된다!!!

소프트웨어 아키텍트는 최고의 프로그래머이며, 앞으로도 계속 프로그래밍 작업을 맡을 뿐만 아니라 동시에 나머지 팀원들이 생산성을 극대화할 수 있는 설계를 하도록 방향을 이끌어준다.

> 이러한 일을 용이하게 만들기 위해서는 가능한 한 많은 선택지를, 가능한 한 오래 남겨두는 전략을 따라야 한다.

아마도 소프트웨어 아키텍처의 목표가 시스템을 제대로 동작하도록 만드는 데 있다고 생각하고 있었을 것이다. 그러나 시스템 아키텍처는 시스템의 동작 여부와는 거의 관련이 없다.

아키텍처의 주된 목적은 시스템의 생명주기를 지원하는 것이다.  
좋은 아키텍처는 시스템을 쉽게 이해하고, 쉽게 개발하며, 쉽게 유지보수하고, 또 쉽게 배포하게 해준다.

아키텍처의 궁극적인 목표는 시스템의 수명과 관련된 비용은 최소화하고, 프로그래머의 생산성은 최대화하는데 있다.

## 개발

개발하기 힘든 시스템이라면 수명이 길지도 않고 건강하지도 않을 것이다.  
따라서 시스템 아키텍처는 개발팀이 시스템을 쉽게 개발할 수 있도록 뒷받침해야만 한다.

팀 구조가 다르다면 아키텍처 관련 결정에서도 차이가 난다.

팀이 작다면 아키텍처가 없더라도 잘 개발할 수 있다. 아키텍처 관련 제약들이 오히려 방해가 된다고 여길 가능성이 높다.

7명으로 이루어진 개발팀이 5팀인 경우라면, 시스템을 신뢰할 수 있고 안정된 인터페이스를 갖춘, 잘 설계된 컴포넌트 단위로 분리하지 않으면 개발이 진척되지 않는다.

아마 이 시스템은 다섯 개의 컴포넌트(팀 마다 하나씩)로 귀착될 가능성이 높다.  
물론 이러한 구조는 배포, 운영, 유지보수하는 데 최적일 수 없다.

## 배포

소프트웨어가 사용될 수 있으려면 반드시 배포할 수 있어야 한다.  
배포 비용이 높을수록 시스템의 유용성은 떨어진다.  
따라서 소프트웨어 아키텍처는 시스템을 단 한 번에 쉽게 배포할 수 있도록 만드는 데 그 목표를 두어야 한다.

하지만 안타깝게도 초기 개발 단계에서는 배포 전략을 거의 고려하지 않는다..

## 운영

아키텍처가 시스템 운영에 미치는 영향은 개발, 배포, 유지보수에 미치는 영향보다는 덜 극적이다.  
운영에서 겪는 대다수의 어려움은 단순히 하드웨어를 더 투입해서 해결할 수 있다.

그렇더라도 아키텍처가 맡아야 할 역할은 시스템을 운영하는 데 필요한 요구를 알려주는 것이다.  
시스템 아키텍처는 유스케이스, 기능, 시스템의 필수 행위를 일급 엔티티로 격상 시키고, 이들 요소가 개발자에게 주요 목표로 인식되도록 해야 한다.

이를 통해 시스템이 이해하기 쉬워지며, 개발과 유지보수에 큰 도움을 주게 된다.

## 유지보수

유지보수는 모든 측면에서 봤을 때 소프트웨어 시스템에서 비용이 가장 많이 든다.  
새로운 기능은 끝도 없이 발생하고, 그에 따른 결함은 피할 수 없으며, 결함을 수정하는 데도 엄청난 인력이 소모된다.

유지보수의 가장 큰 비용은 탐사(spelunking)와 이로 인한 위험부담에 있다.  
탐사란 기존 소프트웨어에 새로운 기능을 추가하거나 결함을 수정할 때, 소프트웨어를 파헤쳐서 어디를 고치는 게 최선인지, 어떤 전략을 쓰는 게 최적일지를 결정할 때 드는 비용이다.

주의를 기울여 아키텍처를 만들면 이 비용을 크게 줄일 수 있다.